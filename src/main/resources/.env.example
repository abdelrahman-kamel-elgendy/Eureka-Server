# ==============================
# EUREKA SERVER - CONFIGURATION
# ==============================

# Application Settings
APP_NAME=eureka-server
SERVER_PORT=8761
SPRING_PROFILES_ACTIVE=production

# Eureka Server Configuration
EUREKA_INSTANCE_HOSTNAME=eureka-server-px4w.onrender.com
EUREKA_CLIENT_REGISTER_WITH_EUREKA=false
EUREKA_CLIENT_FETCH_REGISTRY=false

# Security Configuration (PRODUCTION - CHANGE THESE!)
EUREKA_USERNAME=admin-username
EUREKA_PASSWORD=admin-password
SPRING_SECURITY_USER_NAME=client-username
SPRING_SECURITY_USER_PASSWORD=client-password

# Eureka Server Settings (Production Optimized)
EUREKA_SERVER_ENABLE_SELF_PRESERVATION=true
EUREKA_SERVER_EVICTION_INTERVAL_TIMER_MS=30000
EUREKA_SERVER_RENEWAL_PERCENT_THRESHOLD=0.90
EUREKA_SERVER_RESPONSE_CACHE_AUTO_EXPIRE_IN_SECONDS=180
EUREKA_SERVER_RESPONSE_CACHE_UPDATE_INTERVAL_MS=30000

# Actuator Configuration
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when_authorized

# Performance & Memory Settings
EUREKA_SERVER_MAX_ELEMENTS_IN_PEER_REPLICATION_POOL=10000
EUREKA_SERVER_MAX_ELEMENTS_IN_STATUS_REPLICATION_POOL=10000
EUREKA_SERVER_MAX_IDLE_THREAD_AGE_IN_MINUTES_FOR_PEER_REPLICATION=15
EUREKA_SERVER_MAX_THREADS_FOR_PEER_REPLICATION=20
EUREKA_SERVER_MAX_TIME_FOR_REPLICATION=30000

# Health Check Configuration
EUREKA_SERVER_HEALTHCHECK_ENABLED=true
EUREKA_INSTANCE_LEASE_RENEWAL_INTERVAL_IN_SECONDS=30
EUREKA_INSTANCE_LEASE_EXPIRATION_DURATION_IN_SECONDS=90

# Monitoring & Metrics
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true
MANAGEMENT_METRICS_DISTRIBUTION_PERCENTILES_HISTOGRAM_HTTP_SERVER_REQUESTS=true
MANAGEMENT_ENDPOINT_METRICS_ENABLED=true
MANAGEMENT_ENDPOINT_PROMETHEUS_ENABLED=true

# Backup & Recovery
EUREKA_SERVER_ENABLE_REPLICATE_INSTANCE_CHANGES=true
EUREKA_SERVER_WAIT_TIME_IN_MS_WHEN_SYNC_EMPTY=30000